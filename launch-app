#!/bin/bash

# AWS SAP-C02 Exam Prep App - Universal Launcher
echo "üéØ AWS SAP-C02 Exam Preparation App Launcher"
echo "============================================="
echo ""
echo "Choose an option:"
echo "1) Start the app"
echo "2) Stop the app"
echo "3) Restart the app"
echo "4) Open app in browser"
echo "5) View app status"
echo "6) Exit"
echo ""

while true; do
    read -p "Enter your choice (1-6): " choice
    
    case $choice in
        1)
            echo ""
            echo "üöÄ Starting the app..."
            ./start-app.sh
            break
            ;;
        2)
            echo ""
            echo "‚èπÔ∏è  Stopping the app..."
            ./stop-app.sh
            echo "Press any key to continue..."
            read -n 1
            ;;
        3)
            echo ""
            echo "üîÑ Restarting the app..."
            ./stop-app.sh
            sleep 2
            ./start-app.sh
            break
            ;;
        4)
            echo ""
            echo "üåê Opening app in browser..."
            if command -v open &> /dev/null; then
                open http://localhost:5173
            elif command -v xdg-open &> /dev/null; then
                xdg-open http://localhost:5173
            else
                echo "Please open http://localhost:5173 in your browser"
            fi
            echo "Press any key to continue..."
            read -n 1
            ;;
        5)
            echo ""
            echo "üìä Checking app status..."
            if pgrep -f "npm run dev" > /dev/null; then
                echo "‚úÖ App is running at http://localhost:5173"
            else
                echo "‚ùå App is not running"
            fi
            echo "Press any key to continue..."
            read -n 1
            ;;
        6)
            echo ""
            echo "üëã Goodbye! Happy studying for your AWS SAP-C02 exam!"
            exit 0
            ;;
        *)
            echo "‚ùå Invalid option. Please choose 1-6."
            ;;
    esac
    
    echo ""
    echo "Choose an option:"
    echo "1) Start the app"
    echo "2) Stop the app" 
    echo "3) Restart the app"
    echo "4) Open app in browser"
    echo "5) View app status"
    echo "6) Exit"
    echo ""
done
